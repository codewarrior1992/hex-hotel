"use strict";(self["webpackChunkhex_hotel"]=self["webpackChunkhex_hotel"]||[]).push([[730],{1730:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"book-payment"},[s("h1",[e._v(e._s(e.$t("reserve.paymentTitle")))]),s("div",{staticClass:"row gy-4"},[s("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[s("label",{class:{active:"cash"==e.selected},attrs:{for:"cash"},on:{click:function(t){e.selected="cash"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{type:"radio",name:"payment",id:"cash",value:"cash"},domProps:{checked:e._q(e.selected,"cash")},on:{change:function(t){e.selected="cash"}}}),s("strong",{staticClass:"radio"}),s("span",{staticClass:"text"},[e._v(e._s(e.$t("reserve.cash")))]),s("span",{staticClass:"material-symbols-outlined"},[e._v(" payments ")])])]),s("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[s("label",{staticClass:"unchecked",attrs:{for:"credit"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{type:"radio",name:"payment",id:"credit",value:"credit",disabled:""},domProps:{checked:e._q(e.selected,"credit")},on:{change:function(t){e.selected="credit"}}}),s("strong",{staticClass:"radio"}),s("span",{staticClass:"text"},[e._v(e._s(e.$t("reserve.credit")))]),s("span",{staticClass:"material-symbols-outlined"},[e._v(" credit_card ")])])])]),s("button",{staticClass:"next",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.orderGenerate.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("reserve.booking"))+" ")])])},r=[],n=s(6198),o=(s(5666),s(8309),s(8862),s(6407)),i={props:{booking:{type:Object,default:function(){return null}}},data:function(){return{isLoading:!1,inputFocus:"",locks:{number:!0,cvc:!1},owner:"",credit:"",expired:"",code:"",selected:"cash",counter:0}},methods:{getData:function(){var e,t=(0,o.qn)(),s=t.uid,a=t.access_token;return e=void 0!=this.booking?this.booking:JSON.parse(sessionStorage.getItem("booking")),{uid:s,access_token:a,data:e}},orderGenerate:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function t(){var s,a,r,n,o,i,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.getData(),a=s.uid,r=s.access_token,n=s.data,o={uid:a,guest:{name:n.name,phone:n.phone},reserve:{rid:n.room._id,range:n.range}},i={headers:{Authorization:"Bearer ".concat(r)}},t.next=5,e.$store.dispatch("orderModules/createOrder",{bookingData:o,config:i});case 5:c=t.sent,c.data.success&&(d={oid:c.data.oid,message:c.data.message},sessionStorage.removeItem("booking"),sessionStorage.setItem("order",JSON.stringify(d)),e.$router.push({name:"done",params:{order:d}}));case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;if(!sessionStorage.getItem("booking")||null==this.booking)return this.$router.push({name:"home"});this.$store.dispatch("updateLoading",!0),this.counter=setTimeout((function(){e.$store.dispatch("updateLoading",!1)}),600)},beforeDestroy:function(){clearTimeout(this.counter)}},c=i,d=s(1001),l=(0,d.Z)(c,a,r,!1,null,null,null),u=l.exports}}]);
//# sourceMappingURL=730-legacy.37430e9e.js.map