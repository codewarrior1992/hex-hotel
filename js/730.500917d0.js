"use strict";(self["webpackChunkhex_hotel"]=self["webpackChunkhex_hotel"]||[]).push([[730],{1730:function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"book-payment"},[s("h1",[e._v(e._s(e.$t("reserve.paymentTitle")))]),s("div",{staticClass:"row gy-4"},[s("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[s("label",{class:{active:"cash"==e.selected},attrs:{for:"cash"},on:{click:function(t){e.selected="cash"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{type:"radio",name:"payment",id:"cash",value:"cash"},domProps:{checked:e._q(e.selected,"cash")},on:{change:function(t){e.selected="cash"}}}),s("strong",{staticClass:"radio"}),s("span",{staticClass:"text"},[e._v(e._s(e.$t("reserve.cash")))]),s("span",{staticClass:"material-symbols-outlined"},[e._v(" payments ")])])]),s("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[s("label",{staticClass:"unchecked",attrs:{for:"credit"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{type:"radio",name:"payment",id:"credit",value:"credit",disabled:""},domProps:{checked:e._q(e.selected,"credit")},on:{change:function(t){e.selected="credit"}}}),s("strong",{staticClass:"radio"}),s("span",{staticClass:"text"},[e._v(e._s(e.$t("reserve.credit")))]),s("span",{staticClass:"material-symbols-outlined"},[e._v(" credit_card ")])])])]),s("button",{staticClass:"next",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.orderGenerate.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("reserve.booking"))+" ")])])},o=[],r=s(6407),i={props:{booking:{type:Object,default:()=>null}},data(){return{isLoading:!1,inputFocus:"",locks:{number:!0,cvc:!1},owner:"",credit:"",expired:"",code:"",selected:"cash",counter:0}},methods:{getData(){const{uid:e,access_token:t}=(0,r.qn)();let s;return s=void 0!=this.booking?this.booking:JSON.parse(sessionStorage.getItem("booking")),{uid:e,access_token:t,data:s}},async orderGenerate(){const{uid:e,access_token:t,data:s}=this.getData(),a={uid:e,guest:{name:s.name,phone:s.phone},reserve:{rid:s.room._id,range:s.range}},o={headers:{Authorization:`Bearer ${t}`}},r=await this.$store.dispatch("orderModules/createOrder",{bookingData:a,config:o});if(r.data.success){const e={oid:r.data.oid,message:r.data.message};sessionStorage.removeItem("booking"),sessionStorage.setItem("order",JSON.stringify(e)),this.$router.push({name:"done",params:{order:e}})}}},created(){if(!sessionStorage.getItem("booking")||null==this.booking)return this.$router.push({name:"home"});this.$store.dispatch("updateLoading",!0),this.counter=setTimeout((()=>{this.$store.dispatch("updateLoading",!1)}),600)},beforeDestroy(){clearTimeout(this.counter)}},n=i,c=s(1001),d=(0,c.Z)(n,a,o,!1,null,null,null),l=d.exports}}]);
//# sourceMappingURL=730.500917d0.js.map