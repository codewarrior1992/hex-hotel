"use strict";(self["webpackChunkhex_hotel"]=self["webpackChunkhex_hotel"]||[]).push([[847],{6847:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"book-done"},[s("h1",[e._v(e._s(e.$t("reserve.success")))]),s("ul",[s("li",{staticClass:"guest"},[s("div",{staticClass:"item"},[s("strong",[e._v(e._s(e.$t("reserve.guest")))]),e.newOrder.room?s("span",[e._v(e._s(e.newOrder.room.title[e.locale]))]):e._e()]),s("div",{staticClass:"item"},[s("strong",[e._v(e._s(e.$t("reserve.phone")))]),e.newOrder.guest?s("span",[e._v(e._s(e.newOrder.guest.phone))]):e._e()])]),s("li",{staticClass:"room"},[s("div",{staticClass:"item"},[s("strong",[e._v(e._s(e.$t("reserve.room")))]),e.newOrder.room?s("span",[e._v(e._s(e.newOrder.room.title[e.locale])+" x "+e._s(e.day)+" "+e._s(e.$t("reserve.night")))]):e._e()])]),s("li",{staticClass:"total"},[s("div",{staticClass:"item"},[s("strong",[e._v(e._s(e.$t("reserve.total")))]),e.newOrder.total?s("i18n-n",{attrs:{value:e.newOrder.total[e.locale],format:"currency",locale:e.$i18n.locale}}):e._e()],1)]),s("li",{staticClass:"time"},[s("div",{staticClass:"item"},[s("strong",[e._v(e._s(e.$t("reserve.in")))]),e.newOrder.range?s("span",[e._v(e._s(new Date(e.newOrder.range.start).toLocaleDateString()))]):e._e()]),s("div",{staticClass:"item"},[s("strong",[e._v(e._s(e.$t("reserve.out")))]),e.newOrder.range?s("span",[e._v(e._s(new Date(e.newOrder.range.end).toLocaleDateString()))]):e._e()])])]),s("div",{staticClass:"link-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 col-md-6 col-sm-12"},[s("router-link",{staticClass:"edit",attrs:{to:"/admin"}},[e._v(e._s(e.$t("reserve.edit")))])],1),s("div",{staticClass:"col-lg-6 col-md-6 col-sm-12"},[s("router-link",{staticClass:"home",attrs:{to:"/"}},[e._v(e._s(e.$t("reserve.home")))])],1)])])])])])},a=[],o=s(6407),i={props:{order:{type:Object,default:()=>{}}},data(){return{rawOrder:{},newOrder:{},isLoading:!1,counter:0}},watch:{rawOrder:{handler(e){e&&(this.newOrder={...this.rawOrder})},deep:!0}},methods:{async orderGet(e,t,s,r){this.$store.dispatch("updateLoading",!0);const a={headers:{Authorization:"Bearer "+s},params:{uid:e,oid:t}},i=await this.$store.dispatch("orderModules/getOrder",a);this.rawOrder=i.data.order,this.$store.dispatch("updateLoading",!1),(0,o.BK)(r[this.locale])}},computed:{day(){const e=new Date(this.newOrder.range.start).getTime(),t=new Date(this.newOrder.range.end).getTime(),s=(t-e)/1e3/60/60/24;return s},locale(){return this.$i18n.locale}},async created(){let e;sessionStorage.getItem("order")||this.$router.push({name:"home"}),e=void 0!=this.order?this.order:JSON.parse(sessionStorage.getItem("order"));const{oid:t,message:s}=e,{access_token:r,uid:a}=(0,o.qn)();this.orderGet(a,t,r,s),this.$store.dispatch("updateLoading",!0),this.counter=setTimeout((()=>{this.$store.dispatch("updateLoading",!1)}),600)},beforeDestroy(){sessionStorage.removeItem("order"),clearTimeout(this.counter)}},n=i,d=s(1001),l=(0,d.Z)(n,r,a,!1,null,null,null),c=l.exports}}]);
//# sourceMappingURL=847.e21d215c.js.map