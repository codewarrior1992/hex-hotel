{"version":3,"file":"js/847-legacy.89c50c5b.js","mappings":"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","sources":["webpack://hex-hotel/./src/components/BookDone.vue?fa60","webpack://hex-hotel/src/components/BookDone.vue","webpack://hex-hotel/./src/components/BookDone.vue?c949","webpack://hex-hotel/./src/components/BookDone.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"book-done\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('reserve.success')))]),_c('ul',[_c('li',{staticClass:\"guest\"},[_c('div',{staticClass:\"item\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('reserve.guest')))]),(_vm.newOrder.room)?_c('span',[_vm._v(_vm._s(_vm.newOrder.room.title[_vm.locale]))]):_vm._e()]),_c('div',{staticClass:\"item\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('reserve.phone')))]),(_vm.newOrder.guest)?_c('span',[_vm._v(_vm._s(_vm.newOrder.guest.phone))]):_vm._e()])]),_c('li',{staticClass:\"room\"},[_c('div',{staticClass:\"item\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('reserve.room')))]),(_vm.newOrder.room)?_c('span',[_vm._v(_vm._s(_vm.newOrder.room.title[_vm.locale])+\" x \"+_vm._s(_vm.day)+\" \"+_vm._s(_vm.$t('reserve.night')))]):_vm._e()])]),_c('li',{staticClass:\"total\"},[_c('div',{staticClass:\"item\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('reserve.total')))]),(_vm.newOrder.total)?_c('i18n-n',{attrs:{\"value\":_vm.newOrder.total[_vm.locale],\"format\":\"currency\",\"locale\":_vm.$i18n.locale}}):_vm._e()],1)]),_c('li',{staticClass:\"time\"},[_c('div',{staticClass:\"item\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('reserve.in')))]),(_vm.newOrder.range)?_c('span',[_vm._v(_vm._s(new Date(_vm.newOrder.range.start).toLocaleDateString()))]):_vm._e()]),_c('div',{staticClass:\"item\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('reserve.out')))]),(_vm.newOrder.range)?_c('span',[_vm._v(_vm._s(new Date(_vm.newOrder.range.end).toLocaleDateString()))]):_vm._e()])])]),_c('div',{staticClass:\"link-group\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6 col-md-6 col-sm-12\"},[_c('router-link',{staticClass:\"edit\",attrs:{\"to\":\"/admin\"}},[_vm._v(_vm._s(_vm.$t('reserve.edit')))])],1),_c('div',{staticClass:\"col-lg-6 col-md-6 col-sm-12\"},[_c('router-link',{staticClass:\"home\",attrs:{\"to\":\"/\"}},[_vm._v(_vm._s(_vm.$t('reserve.home')))])],1)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"container\">\r\n        <!-- Content -->\r\n        <div class=\"row\">\r\n                <div class=\"book-done\">\r\n                    <h1>{{ $t('reserve.success')}}</h1>\r\n                    <ul>\r\n                        <li class=\"guest\">\r\n                            <div class=\"item\">\r\n                                <strong>{{ $t('reserve.guest') }}</strong>\r\n                                <span v-if=\"newOrder.room\">{{ newOrder.room.title[locale] }}</span>\r\n                            </div>\r\n                            <div class=\"item\">\r\n                                <strong>{{ $t('reserve.phone') }}</strong>\r\n                                <span v-if=\"newOrder.guest\">{{ newOrder.guest.phone }}</span>\r\n                            </div>\r\n                        </li>\r\n                        <li class=\"room\">\r\n                            <div class=\"item\">\r\n                                <strong>{{ $t('reserve.room') }}</strong>\r\n                                <span v-if=\"newOrder.room\">{{ newOrder.room.title[locale] }} x {{ day }}  {{ $t('reserve.night')}}</span>\r\n                            </div>\r\n                        </li>\r\n                        <li class=\"total\">\r\n                            <div class=\"item\">\r\n                                <strong>{{ $t('reserve.total') }}</strong>\r\n                                <i18n-n v-if=\"newOrder.total\" :value=\"newOrder.total[locale]\" format=\"currency\" :locale=\"$i18n.locale\"></i18n-n>\r\n                            </div>\r\n                        </li>\r\n                        <li class=\"time\">\r\n                            <div class=\"item\">\r\n                                <strong>{{ $t('reserve.in') }}</strong>\r\n                                <span v-if=\"newOrder.range\">{{ new Date(newOrder.range.start).toLocaleDateString() }}</span>\r\n                            </div>\r\n                            <div class=\"item\">\r\n                                <strong>{{ $t('reserve.out') }}</strong>\r\n                                <span v-if=\"newOrder.range\">{{ new Date(newOrder.range.end).toLocaleDateString() }}</span>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                    <div class=\"link-group\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-12\">\r\n                                <router-link to=\"/admin\" class=\"edit\">{{ $t('reserve.edit') }}</router-link>\r\n                            </div>\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-12\">\r\n                                <router-link to=\"/\" class=\"home\">{{ $t('reserve.home') }}</router-link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUserStorage, messagePopUp } from '@/assets/js/functions.js'\r\n\r\nexport default {\r\n    props:{\r\n        order :{\r\n            type : Object,\r\n            default : () => {}\r\n        }\r\n    },\r\n    data(){\r\n        return{\r\n            rawOrder : {},\r\n            newOrder : {},\r\n            isLoading : false,\r\n            counter : 0\r\n        }\r\n    },\r\n    watch:{\r\n        rawOrder:{\r\n            handler(val){\r\n                if(!val) return\r\n                this.newOrder = {...this.rawOrder}\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    methods:{\r\n        async orderGet(uid, oid , access_token, message){\r\n            // 1. Fetch\r\n            this.$store.dispatch('updateLoading',true);\r\n            const config = { \r\n                headers : { 'Authorization' : 'Bearer ' + access_token },\r\n                params : { uid , oid }\r\n            }\r\n            const response = await this.$store.dispatch('orderModules/getOrder',  config);\r\n\r\n            // 02. UI\r\n            this.rawOrder = response.data.order;\r\n            this.$store.dispatch('updateLoading',false);\r\n\r\n            // 03. Message\r\n            messagePopUp(message[this.locale])\r\n        },\r\n    },\r\n    computed:{\r\n        day(){\r\n            const start = new Date(this.newOrder.range.start).getTime();\r\n            const end = new Date(this.newOrder.range.end).getTime();\r\n\r\n            const day = (end - start) / 1000 / 60 /60 / 24 ;\r\n            return  day\r\n        },\r\n        locale(){\r\n            return this.$i18n.locale\r\n        }\r\n    },\r\n    async created(){\r\n        // 1. Route\r\n        if(!sessionStorage.getItem('order')) this.$router.push({name:'home'});\r\n\r\n        // 2. Get Data From Storage\r\n        let data;\r\n        this.order != undefined ? \r\n        data = this.order : \r\n        data = JSON.parse(sessionStorage.getItem('order'));\r\n\r\n        const { oid, message } = data;\r\n        const { access_token, uid } = getUserStorage();\r\n\r\n        // 3. Fetch\r\n        this.orderGet(uid, oid , access_token, message);\r\n        \r\n        this.$store.dispatch('updateLoading',true);\r\n        this.counter = setTimeout(()=>{ this.$store.dispatch('updateLoading',false); },600)\r\n    },\r\n    beforeDestroy(){\r\n        sessionStorage.removeItem('order');\r\n        clearTimeout(this.counter)\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BookDone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BookDone.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookDone.vue?vue&type=template&id=396d695b&\"\nimport script from \"./BookDone.vue?vue&type=script&lang=js&\"\nexport * from \"./BookDone.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","newOrder","room","title","locale","_e","guest","phone","day","attrs","total","$i18n","Date","range","start","toLocaleDateString","end","staticRenderFns","props","order","type","default","data","rawOrder","isLoading","counter","watch","handler","val","deep","methods","orderGet","uid","oid","access_token","message","config","headers","params","response","messagePopUp","computed","created","name","getUserStorage","beforeDestroy","sessionStorage","clearTimeout","component"],"sourceRoot":""}